<!-- 
  Copyright (c) 2024 DAZKON SOLUTIONS (DAZKON PVT LTD)
  All rights reserved.  
  This code is proprietary to DAZKON SOLUTIONS. 
  Unauthorized use, reproduction, modification, distribution, or sale 
  without the explicit written permission of DAZKON SOLUTIONS is strictly prohibited.
  For inquiries, please contact: info@dazkonsolutions.com 
-->
  
@let isLightTheme = isLightTheme$ | async;
<mat-drawer-container class="drawer-container" 
                      [ngClass]="isLightTheme ? 'light-theme' : 'dark-theme'"
                      autosize 
                      hasBackdrop="false" > 
  <!-- left panel -->
  @let isLeftPanelExpanded = (isLeftPanelExpanded$ | async) ?? false;
  <mat-drawer #drawer
              mode="side"
              opened="true"
              [ngClass]="isLeftPanelExpanded 
                ? 'left-panel-expanded' 
                : 'left-panel-collapsed'"
              [style.width]="!isAuth ? '0' : ''" >
        
    @if (isAuth) {
      <daz-left-panel />
    }
  </mat-drawer>
  <!-- end of left panel -->

  <div class="daz-container" >
    <!-- Header -->
    <daz-header />
    <!-- End of header -->

    <!-- Helper for manage background color with curve -->
    <div class="background-color-with-curve-helper-for-header" ></div>
    <!-- End of helper for manage background color with curve -->

    <!-- Control bar -->
    @let menuCurrent = menuCurrent$ | async;
    @if(isVisibleControlBar(menuCurrent && menuCurrent.resource)) {
      <daz-control-bar class="daz-control-bar" />
    }
    <!-- End of control bar -->

    <!-- Helper for manage background color with curve -->
    @if(isVisibleControlBar(menuCurrent && menuCurrent.resource)) {
      <div class="background-color-with-curve-helper-for-control-bar" ></div>
    }
    <!-- End of helper for manage background color with curve -->

    <!-- Content -->
    <div class="daz-content" >
      <router-outlet />
    </div>
    <!-- End of content -->

    <!-- Footer -->
    <daz-footer />
    <!-- End of footer -->
  </div>

</mat-drawer-container>