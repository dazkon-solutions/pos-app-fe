<!-- 
  Copyright (c) 2024 DAZKON SOLUTIONS (DAZKON PVT LTD)
  All rights reserved.  
  This code is proprietary to DAZKON SOLUTIONS. 
  Unauthorized use, reproduction, modification, distribution, or sale 
  without the explicit written permission of DAZKON SOLUTIONS is strictly prohibited.
  For inquiries, please contact: info@dazkonsolutions.com 
-->

<mat-toolbar class="daz-header" >
  <!-- Menu toggle -->
  <button mat-icon-button
          (click)="onToggleLeftPanel()" >
    <mat-icon svgIcon="menu" />
  </button>
  <!-- End of menu toggle -->

  <!-- Title -->
  <span class="title mat-title-medium" >
    {{ menuParentItem()?.name ?? '' | translate }}
  </span>
  <!-- End of title -->

  <span class="spacer" ></span>

  <!-- Button section -->
  <section class="button-section" >
    <button mat-icon-button
            [matTooltip]="LocaleKeys.tooltips.openPos | translate"
            (click)="onClickPos()" >
      <mat-icon svgIcon="pos" />
    </button>

    <button mat-icon-button
            [matTooltip]="LocaleKeys.tooltips.notifications | translate"
            (click)="onClickNotifications()" >
      <mat-icon svgIcon="bell" 
                matBadge="1" 
                matBadgeSize="medium" 
                matBadgeOverlap="true" 
                aria-hidden="false" />
    </button>

    <div class="profile-avatar"
         matRipple 
         [matMenuTriggerFor]="menu" >
      <span class="mat-title-medium" >
        {{ getUsername('SHORT') | uppercase }}
      </span>
    </div>
  </section>
  <!-- End of button section -->
</mat-toolbar>


<!-- Menu -->
<mat-menu #menu="matMenu" >

  <div mat-menu-item 
       disableRipple
       class="profile" >
    <section class="items" >
      <div class="profile-avatar" >
        <p class="mat-caption username" >
          {{ getUsername('SHORT') | uppercase }}
        </p>
      </div>

      <span class="mat-subtitle-1 username-full" >
        {{ LocaleKeys.titles.hi | translate }} {{ getUsername('FULL') }}
      </span>

      <mat-chip class="role" >
        <span class="mat-caption" >
          {{ role }}
        </span> 
      </mat-chip>

    </section>
  </div>
  
  <mat-divider />

  <button mat-menu-item
          class="menu-item"
          (click)="null" >
    <mat-icon svgIcon="account" />
    {{ LocaleKeys.labels.buttons.myProfile | translate }}
  </button>

  <mat-divider />

  <button mat-menu-item
          class="menu-item"
          (click)="null" >
    <mat-icon svgIcon="info" />
    {{ LocaleKeys.labels.buttons.about | translate }}
  </button>

  <mat-divider />

  @let isLightTheme = (isLightTheme$ | async) ?? false ;
  <mat-button-toggle-group hideSingleSelectionIndicator >
    <mat-button-toggle [checked]="isLightTheme"
                       (click)="onToggleTheme()" >
      <mat-icon svgIcon="light-mode" />
    </mat-button-toggle>

    <mat-button-toggle [checked]="!isLightTheme"
                       (click)="onToggleTheme()" >
      <mat-icon svgIcon="dark-mode" />
    </mat-button-toggle>
  </mat-button-toggle-group>

  <mat-divider />

  <button mat-menu-item
          class="menu-item"
          (click)="null" >
    <mat-icon [svgIcon]="isFullScreen 
                ? 'fullscreen-exit' 
                : 'fullscreen'" />
    @if (isFullScreen) {
      {{ LocaleKeys.labels.buttons.exitFullScreen | translate }}
    } @else {
      {{ LocaleKeys.labels.buttons.fullScreen | translate }}
    }
  </button>

  <mat-divider />

  <button mat-menu-item
          class="menu-item"
          (click)="null" >
    <mat-icon svgIcon="signout" />
    {{ LocaleKeys.labels.buttons.signOut | translate }}
  </button>
</mat-menu>
<!-- End of Menu -->