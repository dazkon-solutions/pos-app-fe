<!-- 
  Copyright (c) 2024 DAZKON SOLUTIONS (DAZKON PVT LTD)
  All rights reserved.  
  This code is proprietary to DAZKON SOLUTIONS. 
  Unauthorized use, reproduction, modification, distribution, or sale 
  without the explicit written permission of DAZKON SOLUTIONS is strictly prohibited.
  For inquiries, please contact: info@dazkonsolutions.com 
-->

<span class="daz-main-search-field" >

  <!-- Advanced filter button -->
  <button mat-icon-button
          matPrefix
          [class.advanced-filter-active]="isFilterActivated"
          [matTooltip]="LocaleKeys.tooltips.advancedFilter | translate"
          [disabled]="!config.hasFilter"
          (click)="onClickAdvancedFilter()" >
    <mat-icon matBadge="Active"
              matBadgeSize="medium"
              matBadgePosition="above before"
              matBadgeOverlap="false"
              aria-hidden="false"
              [matBadgeHidden]="!isFilterActivated"
              [svgIcon]="isFilterActivated 
                ? 'advanced-filter-filled' 
                : 'advanced-filter'" />
  </button>
  <!-- End of advanced filter button -->

  <form [formGroup]="form" >
    <mat-form-field subscriptSizing="dynamic"
                    [class.search-field]="isFilterActivated" >

      <input matInput 
             formControlName="search"
             name="search"
             maxlength="255"
             [placeholder]="config.label | translate" >

      @if (hasSearchValue() || isFilterActivated) {
        <!-- Clear button -->
        <button mat-icon-button 
                matSuffix 
                class="clear-btn" >
          <mat-icon svgIcon="close" 
                    [matTooltip]="LocaleKeys.tooltips.clear | translate"
                    (click)="onClickClearForm()" />
        </button>
        <!-- End of clear button -->
      } @else {
        <mat-icon svgIcon="search" matSuffix />
      }

    </mat-form-field>
  </form>

</span>