<!-- 
  Copyright (c) 2024 DAZKON SOLUTIONS (DAZKON PVT LTD)
  All rights reserved.  
  This code is proprietary to DAZKON SOLUTIONS. 
  Unauthorized use, reproduction, modification, distribution, or sale 
  without the explicit written permission of DAZKON SOLUTIONS is strictly prohibited.
  For inquiries, please contact: info@dazkonsolutions.com 
-->

@let formMode = formMode$ | async;
@let isProcessing = (isProcessing$ | async) ?? false;

<mat-dialog-actions >
  <!-- New mode -->
  @if (formMode === FormMode.NEW) {
    <button mat-button 
            mat-dialog-close
            [disabled]="isProcessing" >
      {{ LocaleKeys.labels.buttons.cancel | translate }}
    </button>

    <daz-action-button [config$]="actionButtonConfig$"
                       (buttonClicked)="actionButtonClicked($event)" />
  }
  <!-- End of new mode -->

  <!-- View mode -->
  @if (formMode === FormMode.VIEW) {
    <daz-action-button [config$]="editButton$" 
                       (buttonClicked)="onChangeMode(FormMode.EDIT)" />
  
    <span class="spacer" ></span>

    <button mat-flat-button 
            mat-dialog-close 
            cdkFocusInitial >
      {{ LocaleKeys.labels.buttons.ok | translate }}
    </button>
  }
  <!-- End of view mode -->

  <!-- Edit mode -->
  @if (formMode === FormMode.EDIT) {
    <button mat-button 
            [disabled]="isProcessing"
            (click)="onChangeMode(FormMode.VIEW)" >
      {{ LocaleKeys.labels.buttons.cancel | translate }}
    </button>

    <daz-action-button [config$]="actionButtonConfig$"
                       (buttonClicked)="actionButtonClicked($event)" />
  }
  <!-- End of edit mode -->

</mat-dialog-actions>