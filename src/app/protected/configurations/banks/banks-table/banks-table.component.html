<!-- 
  Copyright (c) 2024 DAZKON SOLUTIONS (DAZKON PVT LTD)
  All rights reserved.  
  This code is proprietary to DAZKON SOLUTIONS. 
  Unauthorized use, reproduction, modification, distribution, or sale 
  without the explicit written permission of DAZKON SOLUTIONS is strictly prohibited.
  For inquiries, please contact: info@dazkonsolutions.com 
-->

<table mat-table 
       class="mat-elevation-z8 table"
       [dataSource]="dataSource()" >

  <!-- Name column -->
  <ng-container matColumnDef="name" >
    <th mat-header-cell *matHeaderCellDef > 
      {{ LocaleKeys.titles.tablesColumns.name | translate }}
    </th>
    <td mat-cell *matCellDef="let row" > {{ row.name }} </td>
  </ng-container>
  <!-- End of name column -->

  <!-- View action column -->
  <ng-container matColumnDef="viewAction" >
    <th mat-header-cell *matHeaderCellDef ></th>
    <td mat-cell 
        *matCellDef="let row"
        [class]="TableColumnAlignmentStyleClass.RIGHT" > 
      <daz-button [type]="viewBtn().type"
                  [label]="viewBtn().label"
                  [permission]="viewBtn().permission"
                  (buttonClicked)="buttonClicked(Action.OPEN_FORM_DIALOG, 
                                                 row)" />
    </td>
  </ng-container>
  <!-- End of view action column -->

  <!-- Delete action column -->
  <ng-container matColumnDef="deleteAction" >
    <th mat-header-cell *matHeaderCellDef ></th>
    <td mat-cell 
        *matCellDef="let row"
        [class]="TableColumnAlignmentStyleClass.RIGHT" > 
        <daz-button [type]="deleteBtn().type"
                    [icon]="deleteBtn().icon"
                    [tooltip]="deleteBtn().tooltip"
                    [styleClass]="deleteBtn().styleClass"
                    [permission]="deleteBtn().permission"
                    (buttonClicked)="buttonClicked(Action.DELETE_ITEM, 
                                                   row)" />
    </td>
  </ng-container>
  <!-- End of delete action column -->

  <!-- Header and rows section -->
  <tr mat-header-row 
      *matHeaderRowDef="displayedColumns() sticky: true" >
  </tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns();" ></tr>
  <!-- End of header and rows section -->

  <!-- This table row show if table empty -->
  <tr class="mat-row" 
      *matNoDataRow >
    <td class="mat-cell" 
        colspan="10"
        [class.table-data-not-found-section]="!isLoading()" >
      
        @if (isLoading()) {
          <daz-table-skeleton-with-image [count]="10" />
        } @else {
          <!-- No data found animation -->
          <daz-animation-player [animationType]="AnimationType.NO_DATA_FOUND" />
          <!-- End of no data found animation -->
        }
    </td>
  </tr>
  <!-- End of table empty row -->

</table>