<!-- 
  Copyright (c) 2024 DAZKON SOLUTIONS (DAZKON PVT LTD)
  All rights reserved.  
  This code is proprietary to DAZKON SOLUTIONS. 
  Unauthorized use, reproduction, modification, distribution, or sale 
  without the explicit written permission of DAZKON SOLUTIONS is strictly prohibited.
  For inquiries, please contact: info@dazkonsolutions.com 
-->

@let dataSource = (dataSource$ | async) ?? [];

<table mat-table 
       [dataSource]="dataSource" 
       class="mat-elevation-z8 table" >

  <ng-container matColumnDef="photo" >
    <th mat-header-cell *matHeaderCellDef >
      Image 
    </th>
    <td mat-cell *matCellDef="let element" > 
      <img class="cell-image" 
           [src]="element.photo" 
           alt="image" > 
    </td>
  </ng-container>

  <ng-container matColumnDef="position" >
    <th mat-header-cell *matHeaderCellDef > 
      No. 
    </th>
    <td mat-cell *matCellDef="let element" > {{ element.position }} </td>
  </ng-container>

  <ng-container matColumnDef="name" >
    <th mat-header-cell *matHeaderCellDef > 
      Name
    </th>
    <td mat-cell *matCellDef="let element" > {{ element.name }} </td>
  </ng-container>

  <ng-container matColumnDef="weight" >
    <th mat-header-cell *matHeaderCellDef > 
      Weight 
    </th>
    <td mat-cell *matCellDef="let element" > {{ element.weight }} </td>
  </ng-container>

  <ng-container matColumnDef="symbol" >
    <th mat-header-cell *matHeaderCellDef > 
      Symbol
    </th>
    <td mat-cell *matCellDef="let element" > {{ element.symbol }} </td>
  </ng-container>

  <ng-container matColumnDef="viewAction" >
    <th mat-header-cell *matHeaderCellDef ></th>
    <td mat-cell 
        *matCellDef="let element"
        [class]="TableColumnAlignmentStyleClass.RIGHT" > 
      <daz-action-button [config$]="viewButton$" 
                         (buttonClicked)="buttonClicked($event, 
                                                        element)" />
    </td>
  </ng-container>

  <ng-container matColumnDef="deleteAction" >
    <th mat-header-cell *matHeaderCellDef ></th>
    <td mat-cell 
        *matCellDef="let element"
        [class]="TableColumnAlignmentStyleClass.RIGHT" > 
      <daz-action-button [config$]="deleteButton$"
                         (buttonClicked)="buttonClicked($event, 
                                                        element)" />
    </td>
  </ng-container>

  <!-- Header and rows section -->
  @let tableHeaderColor = tableHeaderColor$ | async;
  <tr mat-header-row 
      *matHeaderRowDef="displayedColumns sticky: true"
      [style.background-color]="tableHeaderColor" >
  </tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
  <!-- End of header and rows section -->

  <!-- This table row show if table empty -->
  @let isLoading = isLoading$ | async;
  <tr class="mat-row" 
      *matNoDataRow >
    <td class="mat-cell" 
        [class.table-data-not-found-section]="!isLoading"
        colspan="10" >
      
        @if (isLoading) {
          <daz-table-skeleton-with-image [count]="10" />
        } @else {
          <!-- No data found animation -->
          <daz-animation-player [animationType]="AnimationType.NO_DATA_FOUND" />
          <!-- End of no data found animation -->
        }
    </td>
  </tr>
  <!-- End of table empty row -->

</table>